# python-utils
这是一个用于存放常用Python功能模块的仓库
---

# event_loop

这是一个基于 Python 的轻量级事件循环实现，支持异步任务处理、参数验证、异常捕获和多线程协作。它适用于需要异步处理任务的场景，例如任务调度、事件驱动编程等。

## 功能特性

- **事件队列管理**：使用 `queue.Queue` 实现事件队列，支持多线程安全的事件添加和处理。
- **参数验证**：通过 `inspect` 模块实现方法参数的动态验证，支持类型检查和默认值处理。
- **异常处理**：自动捕获并返回事件处理过程中的异常，便于调试和错误处理。
- **多线程支持**：通过 `threading` 模块实现多线程协作，支持异步任务处理和结果等待。
- **UUID 事件标识**：每个事件分配唯一的 UUID，便于跟踪和管理事件状态。
- **灵活的事件格式**：支持多种事件格式（字符串、元组、字典），便于扩展和使用。

# openai_fromat_llm_api

一个与OpenAI格式api进行交互的工具，支持同步和异步两种方式。通过该工具，用户可以轻松地与LLM进行对话、管理聊天记录、处理文件（如图像和音频）并将其转换为模型可接受的格式。项目还提供了聊天记录的保存与加载功能，方便用户在不同会话之间切换。

## 特性

- **与LLM交互**：支持同步和异步方式与LLM进行对话。
- **聊天记录管理**：支持保存、加载、删除聊天记录，并自动管理聊天记录的长度。
- **文件处理**：支持将图像和音频文件转换为Base64编码，并生成符合模型要求的消息格式。
- **工具调用**：支持从聊天记录中提取最近的工具调用记录。
- **异步支持**：使用`httpx`和`aiofiles`库实现异步操作，提升性能。

## 许可证

本项目采用MIT许可证，详情请参阅LICENSE文件。
