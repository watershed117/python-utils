
# python-utils 仓库文档
## event_loop - Python 事件循环实现
### 简介
`event_loop` 是一个基于 Python 的轻量级事件循环实现，适用于异步任务处理、任务调度和事件驱动编程等场景。
### 功能特性
- **事件队列管理**：利用 `queue.Queue` 实现线程安全的事件队列，确保高效的任务调度和处理。
- **参数验证**：通过 `pydantic` 对方法参数进行动态验证，支持类型检查和默认值设置。
- **异常处理**：自动捕获事件处理过程中的异常，并提供详细的错误信息，便于调试和错误处理。
- **多线程支持**：使用 `threading` 模块实现多线程协作，支持异步任务处理和结果等待。
- **UUID 事件标识**：为每个事件分配唯一的 UUID，方便跟踪和管理事件状态。
- **彩色日志输出**：借助 `colorama` 实现彩色日志输出，提高日志可读性。
- **线程安全设计**：使用 `threading.Lock` 和 `threading.Condition` 确保共享资源的线程安全。
## openai_format_llm_api
### 简介
`openai_format_llm_api` 是一个与 OpenAI 格式 API 交互的工具，支持同步和异步两种方式，便于与大型语言模型（LLM）进行对话和管理。
### 特性
- **与LLM交互**：提供同步和异步方式与 LLM 进行对话。
- **聊天记录管理**：支持聊天记录的保存、加载和删除，自动管理聊天记录长度。
- **文件处理**：支持将图像和音频文件转换为 Base64 编码，并生成符合模型要求的消息格式。
- **工具调用**：能够从聊天记录中提取最近的工具调用记录。
- **异步支持**：使用 `httpx` 和 `aiofiles` 库实现异步操作，提升性能。
### 许可证
本项目采用 MIT 许可证，详细信息请参阅 LICENSE 文件。
